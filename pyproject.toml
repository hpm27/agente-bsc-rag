[tool.black]
line-length = 100
target-version = ['py312']

[tool.ruff]
line-length = 100
target-version = "py312"

# Regras a ignorar (não-críticas para desenvolvimento)
[tool.ruff.lint]
select = ["E", "F", "W", "C", "N"]
ignore = [
    "E402",     # Module level import not at top of file (comum com load_dotenv)
    "E501",     # Line too long (strings longas em testes/logs, a corrigir futuramente)
    "N999",     # Invalid module name (convenção Streamlit para páginas numeradas: 0_, 1_, 2_)
    "C403",     # Unnecessary list comprehension (otimização não-crítica)
    "C408",     # Unnecessary dict() call (otimização não-crítica, comum em plotly)
    "C901",     # Function is too complex (complexidade aceitável em funções específicas)
    "RET504",   # Unnecessary assignment before return (style pessoal)
    "F841",     # Local variable assigned but never used (comum em testes/debug)
    "F401",     # Imported but unused (comum em scripts de teste de imports)
    "PLC0415",  # import should be at top-level (às vezes necessário para lazy imports)
    "N802",     # Function name should be lowercase (nomes explícitos como _NOW são aceitáveis)
    "N817",     # CamelCase imported as acronym (acrônimos comuns como CD)
    "PLR0912",  # Too many branches (complexidade aceitável em funções específicas)
    "E722",     # Do not use bare except (a corrigir futuramente, mas não bloqueia)
]

# Excluir diretórios
exclude = [
    ".git",
    ".venv",
    "venv",
    "__pycache__",
    "*.egg-info",
    ".pytest_cache",
    ".mypy_cache",
    ".ruff_cache",
]

[tool.pytest.ini_options]
minversion = "7.0"
pythonpath = ["."]
addopts = [
    "--import-mode=importlib",
    "--strict-markers",
    "--tb=short",
    "-ra",
]
testpaths = ["tests"]
